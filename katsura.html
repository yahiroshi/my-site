<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëã±Ê§ú1Á¥ö ÂçòË™ûÁâπË®ì</title>
    <style>
        :root {
            --primary: #1a237e; /* Á¥∫Ëâ≤ */
            --accent: #c5a600;  /* „Ç¥„Éº„É´„Éâ */
            --bg: #f5f5f7;
            --text: #333;
            --correct: #2e7d32;
            --wrong: #c62828;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 600px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 { margin: 0; font-size: 1.4rem; }
        .status { font-size: 0.9rem; color: #ddd; }

        /* „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº */
        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #e0e0e0;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--accent);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Âá∫È°å„Ç®„É™„Ç¢ */
        .question-box {
            padding: 40px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .word {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .pos-label {
            display: inline-block;
            background: #eee;
            color: #666;
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 4px;
            margin-bottom: 5px;
        }

        /* ÈÅ∏ÊäûËÇ¢ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            padding: 20px;
        }

        @media (min-width: 500px) {
            .options-grid { grid-template-columns: 1fr 1fr; }
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            font-size: 1rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
            min-height: 60px;
        }

        .option-btn:hover {
            border-color: var(--primary);
            background-color: #f0f4ff;
        }

        .option-btn.correct {
            background-color: var(--correct);
            border-color: var(--correct);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong);
            border-color: var(--wrong);
            color: white;
            opacity: 0.7;
        }

        /* ÁµêÊûúÁîªÈù¢ */
        .result-view {
            display: none;
            padding: 40px;
            text-align: center;
        }
        .score { font-size: 4rem; font-weight: bold; color: var(--primary); }
        .btn-restart {
            margin-top: 20px;
            padding: 12px 30px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
        }

    </style>
</head>
<body>

<div class="container">
    <div id="game-view">
        <header>
            <h1>Ëã±Ê§ú1Á¥ö Vocabulary</h1>
            <span class="status" id="status-text">1 / 10</span>
        </header>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="question-box">
            <span class="pos-label" id="pos-label">Word</span>
            <div class="word" id="question-word">Loading...</div>
        </div>

        <div class="options-grid" id="options-area">
            </div>
    </div>

    <div id="result-view" class="result-view">
        <h2>Result</h2>
        <div class="score" id="final-score">0%</div>
        <p id="feedback-text"></p>
        <button class="btn-restart" onclick="startTest()">ÂÜçÊåëÊà¶ (Shuffle)</button>
    </div>
</div>

<script>
    // ==========================================
    // Ëã±Ê§ú1Á¥ö„É¨„Éô„É´ 100ÂçòË™û„É™„Çπ„Éà
    // ==========================================
    const wordList = [
        { en: "abate", ja: "Âíå„Çâ„Åê„ÄÅÊ∏õ„Åö„Çã" },
        { en: "abdicate", ja: "ÔºàÁéã‰Ωç„Å™„Å©„ÇíÔºâÈÄÄ„Åè" },
        { en: "abhor", ja: "ÔΩû„ÇíÂøå„ÅøÂ´å„ÅÜ" },
        { en: "abject", ja: "Áµ∂ÊúõÁöÑ„Å™„ÄÅÊÇ≤ÊÉ®„Å™" },
        { en: "abortive", ja: "Â§±Êïó„Å´ÁµÇ„Çè„Å£„Åü" },
        { en: "abrasive", ja: "Á†îÁ£®‰ΩúÁî®„ÅÆ„ÅÇ„Çã„ÄÅ‰∏çÊÑâÂø´„Å™" },
        { en: "abridge", ja: "ÔΩû„ÇíË¶ÅÁ¥Ñ„Åô„Çã" },
        { en: "absolve", ja: "ÔΩû„ÇíÂÖçÈô§„Åô„Çã„ÄÅÁÑ°ÁΩ™„Å®„Åô„Çã" },
        { en: "abstain", ja: "ÔºàÊäïÁ•®„Å™„Å©„ÇíÔºâÊ£ÑÊ®©„Åô„Çã„ÄÅÊéß„Åà„Çã" },
        { en: "acrimonious", ja: "ÔºàË®ÄËëâ„Å™„Å©„ÅåÔºâÊøÄ„Åó„ÅÑ„ÄÅËæõËæ£„Å™" },
        { en: "acumen", ja: "Èã≠„ÅÑÊ¥ûÂØüÂäõ" },
        { en: "adamant", ja: "Êñ≠Âõ∫„Å®„Åó„Åü" },
        { en: "admonish", ja: "ÔΩû„ÇíË´≠„Åô„ÄÅË≠¶Âëä„Åô„Çã" },
        { en: "adroit", ja: "Â∑ß„Åø„Å™„ÄÅÊ©üÊïè„Å™" },
        { en: "adulation", ja: "„Åä‰∏ñËæû„ÄÅËøΩÂæì" },
        { en: "adversary", ja: "ÊïµÂØæËÄÖ" },
        { en: "affable", ja: "ÊÑõÊÉ≥„ÅÆ„Çà„ÅÑ" },
        { en: "affluent", ja: "Ë£ïÁ¶è„Å™" },
        { en: "aggrandize", ja: "ÔºàÊ®©Âäõ„Å™„Å©„ÇíÔºâÊã°Â§ß„Åô„Çã" },
        { en: "alacrity", ja: "Ê©üÊïè„ÄÅÊ¥ªÁô∫" },
        { en: "alias", ja: "Âà•Âêç„ÄÅÂÅΩÂêç" },
        { en: "alleviate", ja: "ÔºàËã¶Áóõ„Å™„Å©„ÇíÔºâËªΩÊ∏õ„Åô„Çã" },
        { en: "allude", ja: "„Åª„ÅÆ„ÇÅ„Åã„Åô" },
        { en: "aloof", ja: "„Çà„Åù„Çà„Åù„Åó„ÅÑ" },
        { en: "altruistic", ja: "Âà©‰ªñÁöÑ„Å™" },
        { en: "ambivalent", ja: "Áõ∏Âèç„Åô„ÇãÊÑüÊÉÖ„ÇíÊåÅ„Å£„Åü" },
        { en: "ameliorate", ja: "ÔΩû„ÇíÊîπÂñÑ„Åô„Çã" },
        { en: "amicable", ja: "ÂèãÂ•ΩÁöÑ„Å™" },
        { en: "amnesty", ja: "ÊÅ©Ëµ¶" },
        { en: "amorphous", ja: "ÁÑ°ÂÆöÂΩ¢„ÅÆ" },
        { en: "anachronism", ja: "ÊôÇ‰ª£ÈåØË™§" },
        { en: "animus", ja: "ÊïµÊÑè" },
        { en: "annihilate", ja: "ÔΩû„ÇíÂÖ®ÊªÖ„Åï„Åõ„Çã" },
        { en: "anomalous", ja: "Â§âÂâáÁöÑ„Å™„ÄÅÁï∞‰æã„ÅÆ" },
        { en: "antagonism", ja: "ÊïµÂØæ„ÄÅÂØæÁ´ã" },
        { en: "apathy", ja: "ÁÑ°Èñ¢ÂøÉ" },
        { en: "appease", ja: "ÔΩû„Çí„Å™„Å†„ÇÅ„Çã" },
        { en: "apprehensive", ja: "Êá∏Âøµ„Åó„Å¶„ÅÑ„Çã" },
        { en: "arbitrary", ja: "ÊÅ£ÊÑèÁöÑ„Å™„ÄÅÁã¨Êñ≠ÁöÑ„Å™" },
        { en: "archaic", ja: "Âè§È¢®„Å™" },
        { en: "arduous", ja: "È™®„ÅÆÊäò„Çå„Çã" },
        { en: "articulate", ja: "„ÅØ„Å£„Åç„ÇäËø∞„Åπ„Çã" },
        { en: "ascetic", ja: "Á¶ÅÊ¨≤ÁöÑ„Å™" },
        { en: "assiduous", ja: "Âã§Âãâ„Å™" },
        { en: "assuage", ja: "Ôºà‰∏çÂÆâ„Å™„Å©„ÇíÔºâÈéÆ„ÇÅ„Çã" },
        { en: "astute", ja: "Êäú„ÅëÁõÆ„ÅÆ„Å™„ÅÑ" },
        { en: "atrophy", ja: "ËêéÁ∏Æ„Åô„Çã„ÄÅË°∞ÈÄÄ„Åô„Çã" },
        { en: "attenuate", ja: "ÔΩû„ÇíÂº±„ÇÅ„Çã„ÄÅËñÑ„ÇÅ„Çã" },
        { en: "audacious", ja: "Â§ßËÉÜ‰∏çÊïµ„Å™" },
        { en: "augment", ja: "ÔΩû„ÇíÂ¢óÂä†„Åï„Åõ„Çã" },
        { en: "auspicious", ja: "Âπ∏ÂÖà„ÅÆËâØ„ÅÑ" },
        { en: "austere", ja: "Âé≥Ê†º„Å™„ÄÅË≥™Á¥†„Å™" },
        { en: "avarice", ja: "Âº∑Ê¨≤" },
        { en: "aversion", ja: "Â´åÊÇ™" },
        { en: "banal", ja: "„ÅÇ„Çä„Åµ„Çå„Åü„ÄÅÈô≥ËÖê„Å™" },
        { en: "bane", ja: "Á†¥ÊªÖ„ÅÆÂÖÉ" },
        { en: "belligerent", ja: "Â•ΩÊà¶ÁöÑ„Å™" },
        { en: "benevolent", ja: "ÊÖàÊÇ≤Ê∑±„ÅÑ" },
        { en: "benign", ja: "ËâØÊÄß„ÅÆ„ÄÅÊ∏©Âíå„Å™" },
        { en: "bigot", ja: "ÂÅèÂ±àËÄÖ" },
        { en: "blatant", ja: "Èú≤È™®„Å™„ÄÅÈ®í„ÄÖ„Åó„ÅÑ" },
        { en: "bleak", ja: "ËçíÊ∂º„Å®„Åó„Åü„ÄÅÊöó„ÅÑ" },
        { en: "bode", ja: "ÔΩû„ÅÆÂâçÂÖÜ„Å®„Å™„Çã" },
        { en: "bogus", ja: "ÂÅΩ„ÅÆ" },
        { en: "boisterous", ja: "È®í„Åå„Åó„ÅÑ" },
        { en: "bolster", ja: "ÔΩû„ÇíÂº∑Âåñ„Åô„Çã„ÄÅÊîØÊåÅ„Åô„Çã" },
        { en: "bombastic", ja: "Â§ß„Åí„Åï„Å™" },
        { en: "boon", ja: "ÊÅ©ÊÅµ" },
        { en: "breach", ja: "ÈÅïÂèç„ÄÅ‰∏çÂ±•Ë°å" },
        { en: "brevity", ja: "Á∞°ÊΩî„Åï" },
        { en: "brisk", ja: "Ê¥ªÁô∫„Å™" },
        { en: "brusque", ja: "„Å∂„Å£„Åç„Çâ„Åº„ÅÜ„Å™" },
        { en: "burgeon", ja: "ÊÄ•ÊàêÈï∑„Åô„Çã" },
        { en: "cajole", ja: "Ôºà„Åä„Å†„Å¶„Å¶ÔºâÔΩû„Åï„Åõ„Çã" },
        { en: "calamity", ja: "Â§ßÁÅΩÂÆ≥" },
        { en: "callous", ja: "ÂÜ∑Ê∑°„Å™" },
        { en: "candid", ja: "ÁéáÁõ¥„Å™" },
        { en: "capitulate", ja: "Èôç‰ºè„Åô„Çã" },
        { en: "capricious", ja: "Ê∞ó„Åæ„Åê„Çå„Å™" },
        { en: "castigate", ja: "ÔΩû„ÇíÈÖ∑Ë©ï„Åô„Çã" },
        { en: "catalyst", ja: "Ëß¶Â™í„ÄÅ„Åç„Å£„Åã„Åë" },
        { en: "caustic", ja: "ËÖêÈ£üÊÄß„ÅÆ„ÄÅËæõËæ£„Å™" },
        { en: "censure", ja: "ÔΩû„ÇíÈùûÈõ£„Åô„Çã" },
        { en: "chronic", ja: "ÊÖ¢ÊÄß„ÅÆ" },
        { en: "circumspect", ja: "ÊÖéÈáç„Å™" },
        { en: "clandestine", ja: "ÁßòÂØÜ„ÅÆ" },
        { en: "coalesce", ja: "Âêà‰Ωì„Åô„Çã" },
        { en: "coerce", ja: "ÔΩû„ÇíÂº∑Ë¶Å„Åô„Çã" },
        { en: "cogent", ja: "Ë™¨ÂæóÂäõ„ÅÆ„ÅÇ„Çã" },
        { en: "coherent", ja: "È¶ñÂ∞æ‰∏ÄË≤´„Åó„Åü" },
        { en: "collusion", ja: "ÁµêË®ó„ÄÅÂÖ±Ë¨Ä" },
        { en: "commensurate", ja: "Èá£„ÇäÂêà„Å£„Åü" },
        { en: "complacent", ja: "Ëá™Â∑±Ê∫ÄË∂≥„Åó„Åü" },
        { en: "concede", ja: "ÔΩû„ÇíË™ç„ÇÅ„Çã„ÄÅË≠≤Ê≠©„Åô„Çã" },
        { en: "conciliatory", ja: "„Å™„Å†„ÇÅ„Çã„Çà„ÅÜ„Å™" },
        { en: "concur", ja: "ÂêåÊÑè„Åô„Çã" },
        { en: "condone", ja: "ÔΩû„ÇíÂ§ßÁõÆ„Å´Ë¶ã„Çã" },
        { en: "conducive", ja: "ÔΩû„Å´Ë≤¢ÁåÆ„Åô„Çã" },
        { en: "conflagration", ja: "Â§ßÁÅ´‰∫ã" },
        { en: "conjecture", ja: "Êé®Ê∏¨" }
    ];

    // ==========================================
    // „Ç¢„Éó„É™„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ
    // ==========================================
    const TEST_LENGTH = 10; // 1Âõû„ÅÆÂá∫È°åÊï∞
    let questions = [];
    let currentIdx = 0;
    let score = 0;
    let isAnswering = false;

    // „Ç∑„É£„ÉÉ„Éï„É´Èñ¢Êï∞
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startTest() {
        document.getElementById('game-view').style.display = 'block';
        document.getElementById('result-view').style.display = 'none';
        
        // ÂÖ®„É™„Çπ„Éà„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´10ÂïèÈÅ∏„Å∂
        questions = shuffle([...wordList]).slice(0, TEST_LENGTH);
        currentIdx = 0;
        score = 0;
        
        showQuestion();
    }

    function showQuestion() {
        isAnswering = true;
        const q = questions[currentIdx];
        
        // UIÊõ¥Êñ∞
        document.getElementById('status-text').textContent = `${currentIdx + 1} / ${TEST_LENGTH}`;
        document.getElementById('progress-bar').style.width = `${(currentIdx / TEST_LENGTH) * 100}%`;
        document.getElementById('question-word').textContent = q.en;
        // ÂìÅË©ûÊé®ÂÆöÔºàÁ∞°ÊòìÁöÑÔºâ
        document.getElementById('pos-label').textContent = estimatePos(q.ja);

        // ÈÅ∏ÊäûËÇ¢ÁîüÊàêÔºàÊ≠£Ëß£1 + ‰∏çÊ≠£Ëß£3Ôºâ
        // ‰∏çÊ≠£Ëß£„ÅØ„ÄåÁèæÂú®„ÅÆÊ≠£Ëß£‰ª•Â§ñ„ÅÆ„É™„Çπ„Éà„Äç„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´ÈÅ∏„Å∂ÔºàÂêå„Åò„É¨„Éô„É´„ÅÆÂçòË™û„ÅåÂá∫„Çã„Çà„ÅÜ„Å´Ôºâ
        const others = wordList.filter(w => w.en !== q.en);
        const distractors = shuffle(others).slice(0, 3);
        const options = shuffle([q, ...distractors]);

        const container = document.getElementById('options-area');
        container.innerHTML = '';

        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt.ja;
            btn.onclick = () => handleAnswer(opt, q, btn, container);
            container.appendChild(btn);
        });
    }

    function estimatePos(jaText) {
        if (jaText.endsWith("„Åô„Çã") || jaText.endsWith("„Åè")) return "Verb (ÂãïË©û)";
        if (jaText.endsWith("„Å™") || jaText.endsWith("„ÅÆ") || jaText.endsWith("„ÅÑ")) return "Adj (ÂΩ¢ÂÆπË©û)";
        return "Noun (ÂêçË©û) / Other";
    }

    function handleAnswer(selected, correct, btn, container) {
        if (!isAnswering) return;
        isAnswering = false;

        const btns = container.querySelectorAll('.option-btn');

        if (selected.en === correct.en) {
            btn.classList.add('correct');
            score++;
        } else {
            btn.classList.add('wrong');
            // Ê≠£Ëß£„ÇíÊïô„Åà„Çã
            btns.forEach(b => {
                if (b.textContent === correct.ja) {
                    b.classList.add('correct');
                }
            });
        }

        setTimeout(() => {
            currentIdx++;
            if (currentIdx < TEST_LENGTH) {
                showQuestion();
            } else {
                endTest();
            }
        }, 1200); // 1.2ÁßíÂæå„Å´Ê¨°„Å∏
    }

    function endTest() {
        document.getElementById('game-view').style.display = 'none';
        document.getElementById('result-view').style.display = 'block';
        document.getElementById('progress-bar').style.width = '100%';

        const percentage = Math.round((score / TEST_LENGTH) * 100);
        document.getElementById('final-score').textContent = `${score} / ${TEST_LENGTH}`;
        
        let msg = "";
        if (percentage === 100) msg = "Perfect! Ëã±Ê§ú1Á¥öÂêàÊ†º„É¨„Éô„É´„Åß„ÅôÔºÅüèÜ";
        else if (percentage >= 80) msg = "Excellent! Á¥†Êô¥„Çâ„Åó„ÅÑË™ûÂΩôÂäõ„Åß„Åô„ÄÇ";
        else if (percentage >= 60) msg = "Good! „Åù„ÅÆË™øÂ≠ê„ÅßÁ∂ö„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ";
        else msg = "Keep trying! Áπ∞„ÇäËøî„Åó„ÅåÂäõ„Å´„Å™„Çä„Åæ„Åô„ÄÇ";
        
        document.getElementById('feedback-text').textContent = msg;
    }

    // ÂàùÂõûËµ∑Âãï
    startTest();

</script>
</body>
</html>
